(function(c){c.Model.prototype.delegateBackboneEvents=c.Collection.prototype.delegateBackboneEvents=c.Router.prototype.delegateBackboneEvents=c.View.prototype.delegateBackboneEvents=function a(j){j||(j=this.backboneEvents);this._backboneEvents||(this._backboneEvents=[]);this.undelegateBackboneEvents();for(var o in j){var r,p,m,f,e,g;var d=/\s*,\s*/;var k=/(\w+)(\.(\w+))?/;r=o.split(d);m=this;if(r.length===2){var q=k.exec(r[0]);m=this[q[1]];if(m instanceof c.Model&&q[3]){m=m.attributes[q[3]]}}f=r.length===1?r[0]:r[1];if(!f){throw new Error("Invalid event")}p=typeof j[o]==="string"?[j[o]]:j[o];for(var l=0,n;n=p[l];l++){n=n.split(d);var h=k.exec(n[0]);if(this[h[1]]){e=h[3]?this[h[1]][h[3]]:this[h[1]]}if((this[h[1]]&&h[3]&&this[h[1]][h[3]]===undefined)||(this[h[1]]===undefined&&h[3]===undefined)){throw new Error("Cant find method")}g=this;if(n[1]&&n[1]==="this"){g=this}else{if(n[1]&&this[n[1]]){g=this[n[1]]}else{if(h[3]&&this[h[1]]){g=this[h[1]]}}}if(m&&e&&g){m.on(f,e,g);this._backboneEvents.push([m,f,e,g])}}}};c.Model.prototype.undelegateBackboneEvents=c.Collection.prototype.undelegateBackboneEvents=c.Router.prototype.undelegateBackboneEvents=c.View.prototype.undelegateBackboneEvents=function b(){if(!this._backboneEvents||this._backboneEvents.length===0){return}for(var e=0,d;d=this._backboneEvents[e];e++){d[0].off(d[1],d[2],d[3])}}}(Backbone));