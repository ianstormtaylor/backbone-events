(function(b){b.Model.prototype.delegateBackboneEvents=b.Collection.prototype.delegateBackboneEvents=b.Router.prototype.delegateBackboneEvents=b.View.prototype.delegateBackboneEvents=function a(h){h||(h=this.backboneEvents);for(var n in h){var q,o,l,e,d,f;var c=/\s*,\s*/;var j=/(\w+)(\.(\w+))?/;q=n.split(c);l=this;if(q.length===2){var p=j.exec(q[0]);l=this[p[1]];if(l instanceof b.Model&&p[3]){l=l.attributes[p[3]]}}e=q.length===1?q[0]:q[1];if(!e){throw new Error("Invalid event")}o=typeof h[n]==="string"?[h[n]]:h[n];for(var k=0,m;m=o[k];k++){m=m.split(c);var g=j.exec(m[0]);d=g[3]?this[g[1]][g[3]]:this[g[1]];if(!d){throw new Error("Invalid method")}if(m[1]){f=m[1]==="this"?this:this[m[1]]}else{if(g[3]){f=this[g[1]]}else{f=this}}if(!f){throw new Error("Invalid context")}if(l){l.on(e,d,f)}}}}}(Backbone));